{"version":3,"sources":["components/RecipeList/RecipeList.jsx","hooks/useFetch.js","pages/Home/Home.jsx","pages/Create/Create.jsx","pages/Search/Search.jsx","pages/Recipe/Recipe.jsx","components/SearchBar/SearchBar.jsx","components/NavBar/NavBar.jsx","App.jsx","index.jsx"],"names":["RecipeList","recipes","length","className","map","id","title","cookingTime","method","substring","to","useFetch","url","useState","data","setData","isPending","setIsPending","error","setError","options","setOptions","postData","headers","body","JSON","stringify","useEffect","controller","AbortController","fetchData","fetchOptions","fetch","signal","res","ok","Error","statusText","json","name","console","log","abort","Home","Create","setTitle","setMethod","setCookingTime","newIngredient","setNewIngredient","ingredients","setIngredients","ingredientInput","useRef","navigate","useNavigate","onSubmit","e","preventDefault","type","onChange","target","value","required","ref","onClick","ing","trim","includes","prev","current","focus","handleAdd","i","Search","queryString","useLocation","search","query","URLSearchParams","get","Recipe","useParams","recipe","SearchBar","term","setTerm","htmlFor","NavBar","App","element","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.17a967f4.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport \"./RecipeList.css\";\r\n\r\nfunction RecipeList({ recipes }) {\r\n  if (recipes.length === 0) {\r\n    return <div className=\"error\">No recipes to load...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"recipe-list\">\r\n      {recipes.map(({ id, title, cookingTime, method }) => (\r\n        <div key={id} className=\"card\">\r\n          <h3>{title}</h3>\r\n          <p>{cookingTime} to make.</p>\r\n          <div>{method.substring(0, 100)}...</div>\r\n          <Link className=\"cook-this\" to={`/recipes/${id}`}>\r\n            Cook this\r\n          </Link>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RecipeList;\r\n","import { useState, useEffect } from \"react\";\n\nexport const useFetch = (url, method = \"GET\") => {\n  const [data, setData] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const [error, setError] = useState(null);\n  const [options, setOptions] = useState(null);\n\n  const postData = (postData) => {\n    setOptions({\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(postData),\n    });\n  };\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    const fetchData = async (fetchOptions) => {\n      setIsPending(true);\n\n      try {\n        const res = await fetch(url, {\n          ...fetchOptions,\n          signal: controller.signal,\n        });\n        if (!res.ok) {\n          throw new Error(res.statusText);\n        }\n        const data = await res.json();\n\n        setIsPending(false);\n        setData(data);\n        setError(null);\n      } catch (err) {\n        if (err.name === \"AbortError\") {\n          console.log(\"the fetch was aborted\");\n        } else {\n          setIsPending(false);\n          setError(\"Could not fetch the data\");\n        }\n      }\n    };\n\n    if (method === \"GET\") fetchData();\n\n    if (method === \"POST\" && options) {\n      fetchData(options);\n    }\n    return () => {\n      controller.abort();\n    };\n  }, [method, options, url]);\n\n  return { data, isPending, error, postData };\n};\n","import RecipeList from \"../../components/RecipeList/RecipeList\";\r\nimport { useFetch } from \"../../hooks/useFetch\";\r\nimport \"./Home.css\";\r\n\r\nfunction Home() {\r\n  const { data, isPending, error } = useFetch(\"http://localhost:3000/recipes\");\r\n  return (\r\n    <div className=\"home\">\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {isPending && <p className=\"loading\">Loading...</p>}\r\n      {data && <RecipeList recipes={data} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import { useNavigate } from \"react-router-dom\";\r\nimport { useFetch } from \"../../hooks/useFetch\";\r\nimport \"./Create.css\";\r\nimport { useState, useRef, useEffect } from \"react\";\r\n\r\nexport default function Create() {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [method, setMethod] = useState(\"\");\r\n  const [cookingTime, setCookingTime] = useState(\"\");\r\n  const [newIngredient, setNewIngredient] = useState(\"\");\r\n  const [ingredients, setIngredients] = useState([]);\r\n  const ingredientInput = useRef(null);\r\n  const { postData, data, error } = useFetch(\r\n    \"http://localhost:3000/recipes\",\r\n    \"POST\"\r\n  );\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [data, navigate]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    postData({\r\n      title,\r\n      ingredients,\r\n      method,\r\n      cookingTime: cookingTime + \" minutes\",\r\n    });\r\n  }\r\n\r\n  function handleAdd(e) {\r\n    e.preventDefault();\r\n    const ing = newIngredient.trim();\r\n\r\n    if (ing && !ingredients.includes(ing)) {\r\n      setIngredients((prev) => [...prev, ing]);\r\n    }\r\n    setNewIngredient(\"\");\r\n    ingredientInput.current.focus();\r\n  }\r\n\r\n  return (\r\n    <div className=\"create\">\r\n      <h2 className=\"page-title\">Add a New Recipe</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Recipe title:</span>\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            value={title}\r\n            required\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          <span>Recipe ingredients:</span>\r\n          <div className=\"ingredients\">\r\n            <input\r\n              type=\"text\"\r\n              onChange={(e) => setNewIngredient(e.target.value)}\r\n              value={newIngredient}\r\n              ref={ingredientInput}\r\n            />\r\n            <button className=\"btn\" onClick={(e) => handleAdd(e)}>\r\n              add\r\n            </button>\r\n          </div>\r\n        </label>\r\n        <p>\r\n          Current ingredients:{\" \"}\r\n          {ingredients.map((i) => (\r\n            <em key={i}>{i}, </em>\r\n          ))}\r\n        </p>\r\n\r\n        <label>\r\n          <span>Recipe method:</span>\r\n          <textarea\r\n            onChange={(e) => setMethod(e.target.value)}\r\n            value={method}\r\n            required\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          <span>Cooking time (minutes):</span>\r\n          <input\r\n            type=\"number\"\r\n            onChange={(e) => setCookingTime(e.target.value)}\r\n            value={cookingTime}\r\n            required\r\n          />\r\n        </label>\r\n\r\n        <button type=\"submit\" className=\"btn\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { useLocation } from \"react-router-dom\";\r\nimport \"./Search.css\";\r\nimport { useFetch } from \"../../hooks/useFetch\";\r\nimport RecipeList from \"../../components/RecipeList/RecipeList\";\r\n\r\nfunction Search() {\r\n  const queryString = useLocation().search;\r\n  const queryParams = new URLSearchParams(queryString);\r\n  const query = queryParams.get(\"q\");\r\n\r\n  const url = \"http://localhost:3000/recipes?q=\" + query;\r\n  const { error, isPending, data } = useFetch(url);\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"page--title\">Recipes including \"{query}\"</h2>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {isPending && <p className=\"loading\">Loading...</p>}\r\n      {data && <RecipeList recipes={data} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import { useParams } from \"react-router-dom\";\r\nimport \"./Recipe.css\";\r\nimport { useFetch } from \"../../hooks/useFetch\";\r\n\r\nfunction Recipe() {\r\n  const { id } = useParams();\r\n  const url = \"http://localhost:3000/recipes/\" + id;\r\n  const { error, isPending, data: recipe } = useFetch(url);\r\n\r\n  return (\r\n    <div className=\"recipe\">\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {isPending && <p className=\"loading\">Loading...</p>}\r\n      {recipe && (\r\n        <>\r\n          <h2 className=\"page-title\">{recipe.title}</h2>\r\n          <p>Takes {recipe.cookingTime} to make</p>\r\n          <ul>\r\n            {recipe.ingredients.map((ing) => (\r\n              <li key={ing}>{ing}</li>\r\n            ))}\r\n          </ul>\r\n          <p className=\"method\">{recipe.method}</p>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Recipe;\r\n","import \"./SearchBar.css\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction SearchBar() {\r\n  const [term, setTerm] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    navigate(`/search?q=${term}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"searchbar\">\r\n      <form onSubmit={handleSubmit}>\r\n        <label htmlFor=\"search\">Search:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"search\"\r\n          onChange={(e) => setTerm(e.target.value)}\r\n          required\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n","import SearchBar from \"../SearchBar/SearchBar\";\r\nimport \"./NavBar.css\";\r\nimport { Link, Outlet } from \"react-router-dom\";\r\n\r\nfunction NavBar() {\r\n  return (\r\n    <>\r\n      <div className=\"navbar\">\r\n        <nav>\r\n          <Link to=\"/\" className=\"brand\">\r\n            <h1>Cooking Ninja</h1>\r\n          </Link>\r\n          <SearchBar />\r\n          <Link to=\"/create\">Create Recipe</Link>\r\n        </nav>\r\n      </div>\r\n      <Outlet />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import \"./App.css\";\nimport { HashRouter, Route, Routes } from \"react-router-dom\";\nimport Home from \"./pages/Home/Home\";\nimport Create from \"./pages/Create/Create\";\nimport Search from \"./pages/Search/Search\";\nimport Recipe from \"./pages/Recipe/Recipe\";\nimport NavBar from \"./components/NavBar/NavBar\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HashRouter>\n        <Routes>\n          <Route element={<NavBar />} path=\"/\">\n            <Route element={<Home />} path=\"/\" />\n            <Route element={<Create />} path=\"/create\" />\n            <Route element={<Search />} path=\"/search\" />\n            <Route element={<Recipe />} path=\"/recipes/:id\" />\n          </Route>\n        </Routes>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}